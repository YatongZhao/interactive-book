(this["webpackJsonpinteractive-book"]=this["webpackJsonpinteractive-book"]||[]).push([[0],{91:function(t,e,n){"use strict";n.r(e);var c=n(6),a=n(0),i=n(11),r=n.n(i),o=n(127),s=n(141),l=n(134),u=n(129),j=n(130),b=n(50),h=n(131),d=n(135),O=n(27),f=n(119),g=n(138),x=n(122),m=n(123),p=n(124),v=n(133),C=n(126),k=n(95),S=n(140),F=n(125),w=n(139),y=n(128),N=n(136),B=function(t){var e=t.data,n=Object(a.useState)(!1),i=Object(O.a)(n,2),r=i[0],o=i[1],s=Object(a.useState)(""),l=Object(O.a)(s,2),u=l[0],j=l[1],b=Object(a.useState)(""),h=Object(O.a)(b,2),d=h[0],k=h[1],S=Object(a.useState)(""),F=Object(O.a)(S,2),w=F[0],y=F[1],N=function(){return o(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.a,{variant:"contained",color:"default",disableElevation:!0,size:"small",onClick:function(){return o(!0)},children:"\u5728\u5f53\u524d\u4f4d\u7f6e\u6dfb\u52a0\u4e00\u4e2a\u7ae0\u8282"}),Object(c.jsxs)(g.a,{onClose:N,open:r,children:[Object(c.jsx)(x.a,{children:"\u6dfb\u52a0\u4e00\u4e2a\u7ae0\u8282"}),Object(c.jsxs)(m.a,{children:[Object(c.jsx)(p.a,{children:"\u5728\u5f53\u524d\u4f4d\u7f6e\uff0c\u6dfb\u52a0\u4e00\u4e2a\u7ae0\u8282\u9009\u62e9"}),Object(c.jsx)(v.a,{autoFocus:!0,value:u,onChange:function(t){return j(t.target.value)},label:"\u6807\u9898",fullWidth:!0}),Object(c.jsx)(v.a,{autoFocus:!0,value:d,onChange:function(t){return k(t.target.value)},label:"\u4f5c\u8005",fullWidth:!0}),Object(c.jsx)(v.a,{autoFocus:!0,value:w,onChange:function(t){return y(t.target.value)},label:"\u5185\u5bb9",fullWidth:!0,multiline:!0,rowsMax:10})]}),Object(c.jsxs)(C.a,{children:[Object(c.jsx)(f.a,{onClick:function(){e.addSub({title:u,author:d,content:w}),o(!1)},color:"primary",children:"\u786e\u5b9a"}),Object(c.jsx)(f.a,{onClick:N,color:"primary",children:"\u53d6\u6d88"})]})]})]})},T=Object(o.a)((function(t){return Object(s.a)({title:{fontWeight:700,marginBottom:t.spacing(.5),padding:t.spacing(1),width:"100%",textAlign:"left",justifyContent:"flex-start"},author:{fontWeight:400,marginLeft:t.spacing(1),color:t.palette.grey[400]},content:{paddingLeft:t.spacing(3),marginBottom:t.spacing(1.5)},selectorContainer:{paddingLeft:t.spacing(3),marginTop:t.spacing(2),marginBottom:t.spacing(2)}})})),W=function t(e){var n=e.data,i=e.onClickTitle,r=T(),o=Object(a.useState)(""),s=Object(O.a)(o,2),u=s[0],j=s[1],b=Object(a.useState)(null),h=Object(O.a)(b,2),f=h[0],g=h[1],x=Object(a.useState)(!1),m=Object(O.a)(x,2),p=m[0],v=m[1];return Object(a.useEffect)((function(){g(n.sub.find((function(t){return t.id===u}))||null)}),[u,n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(k.a,{className:r.title,onClick:function(){return i&&i()},children:[n.title,Object(c.jsxs)(l.a,{className:r.author,component:"span",children:["author: ",n.author]})]}),Object(c.jsx)(l.a,{className:r.content,children:n.content}),Object(c.jsx)(l.a,{className:r.selectorContainer,children:(!u||p)&&Object(c.jsxs)(c.Fragment,{children:[0!==n.sub.length&&Object(c.jsxs)(S.a,{component:"fieldset",fullWidth:!0,children:[Object(c.jsx)(F.a,{component:"legend",children:"\u9009\u62e9\u4e00\u6761\u5206\u652f"}),Object(c.jsx)(w.a,{value:u,onChange:function(t){j(t.target.value),v(!1)},children:Object(c.jsx)(d.a,{children:function(){return Object(c.jsx)(c.Fragment,{children:n.sub.map((function(t){return Object(c.jsx)(y.a,{value:t.id,control:Object(c.jsx)(N.a,{size:"small"}),label:t.title},t.id)}))})}})})]}),Object(c.jsx)(B,{data:n})]})}),f&&Object(c.jsx)(t,{data:f,onClickTitle:function(){return v(!p)}},f.id)]})},L=Object(a.createContext)({}),I=L.Provider,J=Object(o.a)((function(t){return Object(s.a)({title:{flexGrow:1},container:{marginTop:t.spacing(3)}})}));var E=function(){var t=J(),e=Object(a.useContext)(L);return Object(c.jsxs)(l.a,{children:[Object(c.jsx)(u.a,{position:"sticky",children:Object(c.jsx)(j.a,{variant:"dense",children:Object(c.jsx)(b.a,{variant:"h6",className:t.title,children:"my book"})})}),Object(c.jsx)(h.a,{className:t.container,children:Object(c.jsx)(d.a,{children:function(){return Object(c.jsx)(W,{data:e})}})})]})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),i(t),r(t)}))},z=n(14),A=n(132),D=n(47),G=n(65),M=n(64),U=n(62),q=n(63),H=function(t){Object(G.a)(n,t);var e=Object(M.a)(n);function n(t){return Object(D.a)(this,n),e.call(this,t)}return n}(function(){function t(e){Object(D.a)(this,t),this.title="",this.author="",this.content="",this.sub=[],this.id="",this.id=e.id||Object(q.v4)(),this.title=e.title,this.author=e.author,this.content=e.content,this.sub=(e.sub||[]).map((function(e){return new t(e)})),Object(z.e)(this,{title:z.f,author:z.f,content:z.f,sub:z.f,addSub:z.b})}return Object(U.a)(t,[{key:"addSub",value:function(e){this.sub.push(new t(e))}}]),t}()),K=window.localStorage.getItem("interactive-book-store"),Q=new H(JSON.parse(K)||{title:"First Book Of Universe",author:"me",content:"Boommmmmm",sub:[]});Object(z.c)((function(){localStorage.setItem("interactive-book-store",JSON.stringify(Q))})),r.a.render(Object(c.jsxs)(I,{value:Q,children:[Object(c.jsx)(A.a,{}),Object(c.jsx)(E,{})]}),document.getElementById("root")),P()}},[[91,1,2]]]);
//# sourceMappingURL=main.db0c217b.chunk.js.map