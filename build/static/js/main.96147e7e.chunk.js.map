{"version":3,"sources":["config.ts","store/index.ts","components/ContentEditor.tsx","components/AddChapterDialog.tsx","components/Home.tsx","store/chapter.ts","components/AddChapter.tsx","components/ChapterSelector.tsx","components/Chapter.tsx","components/HideOnScroll.tsx","components/Book.tsx","components/NewBook.tsx","components/Login.tsx","components/SignUP.tsx","components/Center.tsx","components/ChapterVer2.tsx","components/BookVer2.tsx","App.tsx","reportWebVitals.ts","index.tsx","store/store.ts"],"names":["config","apiHost","phoneRegExp","passwordRegExp","nickRegExp","StoreContext","createContext","StoreProvider","Provider","useStyles","makeStyles","theme","createStyles","section","typography","body1","minHeight","textIndent","spacing","marginTop","marginBottom","container","outline","border","props","error","palette","main","grey","borderRadius","position","content","fontSize","color","left","bottom","borderColor","primary","helpText","caption","ContentEditor","value","onChange","classes","ref","useRef","useState","values1","setValues1","useEffect","contentEditable","className","suppressContentEditableWarning","onInput","event","Array","prototype","map","call","target","children","item","innerText","length","Box","useAddChapterDialogStyles","appBar","title","marginLeft","flex","padding","progress","top","width","zIndex","contentHeader","Transition","React","forwardRef","Slide","direction","AddChapterDialog","open","handleClose","onSubmit","titleLabel","dialogTitle","contentPlaceHolder","name","setName","isNameError","setIsNameError","nameErrorMsg","setNameErrorMsg","contents","setContents","isContentError","setIsContentError","contentErrorMsg","setContentErrorMsg","pending","setPending","Dialog","fullScreen","onClose","TransitionComponent","AppBar","Toolbar","IconButton","edge","onClick","aria-label","Typography","variant","Button","autoFocus","reduce","pre","current","trim","then","data","Grid","xs","TextField","helperText","e","label","fullWidth","in","LinearProgress","flexGrow","fab","right","loginTips","textAlign","Home","bookList","setBookList","history","useHistory","store","useContext","openAddDialog","setOpenAddDialog","fetch","method","json","books","isIsLoginReady","isLogin","Fade","push","userInfo","nick","Skeleton","animation","List","book","ListItem","button","id","ListItemText","secondary","author","Link","component","RouterLink","to","Fab","mode","credentials","headers","body","JSON","stringify","errCode","console","log","uuidv4","Chapter","source","sub","subMap","likeNum","liked","selectedSubId","initialized","this","initialize","makeObservable","observable","selectedSubIdIndex","computed","hasPreSubId","hasNextSubId","addSub","action","addSubMap","setSelectedSubId","setNextSelectedSubId","setPreSelectedSubId","setLikeNum","setLiked","findIndex","chapter","num","bool","useAddChapterStyles","AddChapter","backgroundColor","addChapterBox","ChapterSelector","onSelect","selectId","header","subheader","ListSubheader","disableSticky","ListItemIcon","Radio","checked","useChapterBoxStyles","alignItems","flexDirection","fontWeight","lineHeight","selectorContainer","paddingLeft","ChapterBox","parent","setParentId","selectedSubChapterId","setSelectedSubChapterId","selectedSubChapter","setSelectedSubChapter","showSelector","setShowSelector","handleChange","handleCreateChapterSubmit","parentId","res","chapterSource","line","ButtonBase","HideOnScroll","trigger","useScrollTrigger","appear","menuButton","marginRight","BookBox","useParams","setBook","goBack","Container","nextChapterBox","nextChapterBtn","display","NewBookBox","SimpleAppBar","elevation","margin","maxWidth","submitBtnContainer","submitBtn","buttonProgress","signInBox","justifyContent","Login","phone","setPhone","isPhoneError","setIsPhoneError","phoneErrorMsg","setPhoneErrorMsg","password","setPassword","isPasswordError","setIsPasswordError","passwordErrorMsg","setPasswordErrorMsg","isPending","setIsPending","type","disabled","test","setIsLogin","setUserInfo","info","errMsg","CircularProgress","size","SignUp","setNick","isNickError","setIsNickError","nickErrorMsg","setNickErrorMsg","passwordSec","setPasswordSec","isPasswordSecError","setIsPasswordSecError","passwordSecErrorMsg","setPasswordSecErrorMsg","Center","logout","replace","autorun","titleBox","background","default","paddingBottom","boxShadow","borderBottom","divider","paddingRight","titleMiddle","mainTitle","overflow","textOverflow","whiteSpace","subTitle","titleCreateBtn","height","bottomBar","borderTop","likeBtn","likeBtnBox","unliked","iconBtnNum","ChapterBoxVer2","undefined","openAddChapterDialog","setOpenAddChapterDialog","containerEl","createChapter","useCallback","handleLike","_data","handleGo","window","scrollY","offsetTop","scrollTo","useObserver","i","BookBoxVer2","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.96147e7e.chunk.js","sourcesContent":["const isProd = process.env.NODE_ENV === 'production';\n\nexport const config = {\n    apiHost: isProd ? '' : 'http://localhost:3008',\n    phoneRegExp: /^1[3|4|5|7|8][0-9]{9}$/,\n    passwordRegExp: /(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*/+.~!@#$%^&*()]{6,20}$/,\n    nickRegExp: /^\\S{4,20}$/,\n};\n","import { createContext } from 'react';\nimport { Store } from './store';\n\nexport const StoreContext = createContext<Store>({} as Store);\nexport const StoreProvider = StoreContext.Provider;\n","import { Box, createStyles, makeStyles, Theme } from '@material-ui/core';\nimport React, { useEffect, useRef, useState } from 'react';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    section: {\n        ...theme.typography.body1,\n        minHeight: '1.5rem',\n        textIndent: theme.spacing(4),\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    container: {\n        outline: 'none',\n        border: (props: any) => `1px solid ${props.error ? theme.palette.error.main : theme.palette.grey[600]}`,\n        borderRadius: theme.spacing(1),\n        minHeight: theme.spacing(50),\n        position: 'relative',\n        marginTop: theme.spacing(2),\n        '&::before': {\n            content: '\"内容\"',\n            position: 'absolute',\n            fontSize: theme.typography.body1.fontSize,\n            color: (props: any) => props.error ? theme.palette.error.main : theme.palette.grey[600],\n            left: 0,\n            bottom: `calc(100% + ${theme.spacing(0.5)}px)`,\n        },\n        '&:focus': {\n            borderColor: (props: any) => props.error ? theme.palette.error.main : theme.palette.primary.main,\n            '&::before': {\n                color: (props: any) => props.error ? theme.palette.error.main : theme.palette.primary.main,\n            },\n            '&::after': {\n                color: (props: any) => props.error ? theme.palette.error.main : theme.palette.primary.main,\n            }\n        },\n        '&::after': {\n            content: (props: any) => `\"${props.helpText}\"`,\n            fontSize: theme.typography.caption.fontSize,\n            color: (props: any) => props.error ? theme.palette.error.main : theme.palette.grey[600],\n            position: 'absolute',\n            left: '40px',\n            bottom: `calc(100% + ${theme.spacing(0.5)}px)`,\n        }\n    }\n  })\n);\n\nexport const ContentEditor = ({ value, onChange, error, helpText}: {\n    value: string[];\n    onChange: (e: string[]) => void;\n    error?: boolean;\n    helpText?: string;\n}) => {\n    const classes = useStyles({ error, helpText });\n    const ref = useRef() as React.MutableRefObject<HTMLDivElement>;\n    const [values1, setValues1] = useState<string[]>([]);\n    useEffect(() => {\n        setValues1(value);\n    }, []);\n\n    function handleInput(event: React.FormEvent<HTMLDivElement>) {\n        onChange(\n            Array.prototype.map.call((event.target as HTMLDivElement).children, (item: HTMLDivElement) => {\n                return item.innerText;\n            }) as string[]\n        );\n    }\n\n    return <div ref={ref} contentEditable={true}\n        className={classes.container}\n        suppressContentEditableWarning={true} onInput={handleInput}>\n        {values1.length === 0 && <Box className={classes.section}></Box>}\n        {values1.map(value => <Box className={classes.section}>{value}</Box>)}\n    </div>;\n}\n","import { AppBar, Box, Button, createStyles, Dialog, Grid, IconButton, LinearProgress, makeStyles, Slide, TextField, Theme, Toolbar, Typography, } from '@material-ui/core';\nimport { TransitionProps } from '@material-ui/core/transitions/transition';\nimport React, { useEffect, useState } from 'react';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ContentEditor } from './ContentEditor';\n\nconst useAddChapterDialogStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        appBar: {\n          position: 'relative',\n        },\n        title: {\n          marginLeft: theme.spacing(2),\n          flex: 1,\n        },\n        container: {\n            padding: theme.spacing(2),\n        },\n        progress: {\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            width: '100vw',\n            zIndex: 10000\n        },\n        contentHeader: {\n            fontSize: theme.typography.body1.fontSize,\n            color: theme.palette.grey[700],\n        }\n    })\n);\n\nconst Transition = React.forwardRef(function Transition(\n  props: TransitionProps & { children?: React.ReactElement },\n  ref: React.Ref<unknown>,\n) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport const AddChapterDialog = ({\n    open, handleClose, onSubmit, titleLabel, dialogTitle, contentPlaceHolder\n}: {\n    open: boolean;\n    handleClose: () => void;\n    onSubmit: (arg: {\n        content: string[];\n        title: string;\n    }) => Promise<void>;\n    titleLabel: string;\n    dialogTitle: string;\n    contentPlaceHolder: string;\n}) => {\n    const classes = useAddChapterDialogStyles();\n    const [name, setName] = useState('');\n    const [isNameError, setIsNameError] = useState(false);\n    const [nameErrorMsg, setNameErrorMsg] = useState('');\n    const [contents, setContents] = useState<string[]>([]);\n    const [isContentError, setIsContentError] = useState(false);\n    const [contentErrorMsg, setContentErrorMsg] = useState('');\n    const [pending, setPending] = useState(false);\n\n    useEffect(() => {\n        setIsNameError(false);\n        setNameErrorMsg('');\n    }, [name]);\n\n    useEffect(() => {\n        setIsContentError(false);\n        setContentErrorMsg('');\n    }, [contents]);\n\n    function handleSubmit() {\n        if (!name) {\n            setIsNameError(true);\n            setNameErrorMsg(`${titleLabel}不能为空`);\n            return;\n        }\n        if (contents.length === 0) {\n            setIsContentError(true);\n            setContentErrorMsg('内容不能为空');\n            return;\n        }\n\n        let content = '';\n        content = contents.reduce((pre: string, current: string) => {\n            return pre + current.trim();\n        }, '');\n\n        if (!content) {\n            setIsContentError(true);\n            setContentErrorMsg('内容不能为空');\n            return;\n        }\n\n        setPending(true);\n        onSubmit({ content: contents, title: name })\n            .then(data => {\n                setPending(false);\n                handleClose();\n            });\n    }\n\n    return <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n        <AppBar className={classes.appBar} color=\"default\">\n            <Toolbar>\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\n                <CloseIcon />\n            </IconButton>\n            <Typography variant=\"h6\" className={classes.title}>\n                {dialogTitle}\n            </Typography>\n            <Button autoFocus color=\"inherit\" onClick={handleSubmit}>\n                提交\n            </Button>\n            </Toolbar>\n        </AppBar>\n        <Grid container spacing={4} className={classes.container}>\n            <Grid item xs={12}>\n                <TextField\n                    autoFocus\n                    value={name}\n                    error={isNameError}\n                    helperText={nameErrorMsg}\n                    onChange={e => setName(e.target.value)}\n                    label={titleLabel}\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12}>\n                <ContentEditor value={contents} onChange={setContents} helpText={contentErrorMsg} error={isContentError} />\n            </Grid>\n        </Grid>\n        <Slide in={pending} direction=\"down\">\n            <LinearProgress className={classes.progress} />\n        </Slide>\n    </Dialog>;\n}\n","import { AppBar, Box, Button, createStyles, Fab, Fade, Link, List, ListItem, ListItemText, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport { Observer } from 'mobx-react';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\nimport { config } from '../config';\nimport { StoreContext } from '../store';\n\nimport AddIcon from '@material-ui/icons/Add';\nimport { AddChapterDialog } from './AddChapterDialog';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    title: {\n      flexGrow: 1\n    },\n    fab: {\n        position: 'absolute',\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n    },\n    loginTips: {\n        textAlign: 'center',\n        marginTop: theme.spacing(10),\n        marginBottom: theme.spacing(10),\n        color: theme.palette.grey[400],\n    }\n  })\n);\n\nexport const Home = () => {\n    const classes = useStyles();\n    const [bookList, setBookList] = useState<{\n        title: string;\n        author: string;\n        id: string;\n        content: string;\n        sub: any[];\n    }[]>([]);\n    const history = useHistory();\n    const store = useContext(StoreContext);\n\n    const [openAddDialog, setOpenAddDialog] = useState(false);\n\n    useEffect(() => {\n\n        fetch(`${config.apiHost}/api/book`, { method: 'get' })\n            .then(data => data.json())\n            .then(data => {\n                setBookList(data.books);\n            });\n    }, []);\n\n    function handleClickBook(id: string) {\n        history.push(`/book-ver2/${id}`);\n    }\n\n    function handleCreateBookSubmit({ content, title }: {\n        content: string[]; title: string;\n    }) {\n        return fetch(`${config.apiHost}/api/book`, {\n            method: 'post',\n            mode: 'cors',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                title,\n                content,\n            }),\n        })\n        .then(data => data.json())\n        .then(data => {\n\n            if (data.errCode === 1000) {\n                history.push('/login');\n                return;\n            }\n\n            handleCreateBook(data.book);\n        });\n    }\n\n    function handleCreateBook(book: {\n        title: string;\n        author: string;\n        id: string;\n        content: string;\n        sub: any[];\n    }) {\n        setBookList([...bookList, book]);\n    }\n\n    return <Box>\n        <AppBar position=\"sticky\" color=\"primary\">\n            <Toolbar variant=\"dense\">\n                <Typography variant=\"h6\" className={classes.title}>\n                    ZBOOK\n                </Typography>\n                <Observer>\n                    {() => <>\n                        {store.isIsLoginReady ? <>\n                            {store.isLogin ?\n                                <Fade in={store.isLogin}>\n                                    <Button color=\"inherit\" onClick={() => history.push('/center')}>{store.userInfo.nick}</Button>\n                                </Fade> :\n                                <Fade in={!store.isLogin}>\n                                    <Button color=\"inherit\" onClick={() => history.push('/login')}>Login</Button>\n                                </Fade>}\n                        </> : <Skeleton animation=\"wave\" width={60} />}\n                    </>}\n                </Observer>\n            </Toolbar>\n        </AppBar>\n        <List>\n            {bookList.map((book: any) =>\n                <ListItem button key={book.id} onClick={() => handleClickBook(book.id)}>\n                    <ListItemText primary={book.title} secondary={book.content[0]}/>\n                    <Box>{book.author}</Box>\n                </ListItem>)}\n        </List>\n        <Observer>\n            {() => <>\n                {!store.isLogin && bookList.length > 0 && <Box className={classes.loginTips}>\n                    <Typography variant=\"caption\">\n                        快去<Link component={RouterLink} to=\"/login\">登录</Link>开始自己的创作吧～\n                    </Typography>\n                </Box>}\n                {store.isLogin && <Fab className={classes.fab} color=\"primary\" onClick={() => setOpenAddDialog(true)}>\n                    <AddIcon />\n                </Fab>}\n            </>}\n        </Observer>\n        <AddChapterDialog\n            open={openAddDialog}\n            dialogTitle=\"创建图书\"\n            contentPlaceHolder=\"本书前言部分内容\"\n            titleLabel=\"书名\"\n            handleClose={() => setOpenAddDialog(false)}\n            onSubmit={handleCreateBookSubmit} />\n    </Box>;\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\nimport { v4 as uuidv4 } from 'uuid';\nconsole.log(uuidv4());\nexport class Chapter {\n    public title: string = '';\n    public author: string = '';\n    public content: string[] = [];\n    public sub: {\n        id: string;\n        title: string;\n        author: string;\n    }[] = [];\n    public subMap: { [key: string]: Chapter } = {};\n    public id: string = '';\n    public likeNum = 0;\n    public liked = false;\n\n    public selectedSubId = '';\n\n    public initialized = false;\n\n    public get selectedSubIdIndex(): number {\n        return this.sub.findIndex(sub => this.selectedSubId === sub.id);\n    }\n\n    public get hasPreSubId(): boolean {\n        return this.selectedSubIdIndex > 0;\n    }\n\n    public get hasNextSubId(): boolean {\n        return this.selectedSubIdIndex < this.sub.length - 1;\n    }\n\n    constructor(source?: any) {\n\n        if (source) {\n            this.initialize(source);\n        }\n\n        makeObservable(this, {\n            initialized: observable,\n            id: observable,\n            title: observable,\n            author: observable,\n            content: observable,\n            sub: observable,\n            subMap: observable,\n            selectedSubId: observable,\n            likeNum: observable,\n            liked: observable,\n            selectedSubIdIndex: computed,\n            hasPreSubId: computed,\n            hasNextSubId: computed,\n            addSub: action,\n            addSubMap: action,\n            setSelectedSubId: action,\n            setNextSelectedSubId: action,\n            setPreSelectedSubId: action,\n            initialize: action,\n            setLikeNum: action,\n            setLiked: action,\n        });\n    }\n\n    initialize(source: any) {\n        this.id = source.id || uuidv4();\n        this.title = source.title;\n        this.author = source.author;\n        this.content = source.content;\n        this.sub = (source.sub || []);\n        this.likeNum = source.likeNum;\n        this.liked = source.liked;\n\n        this.initialized = true;\n    }\n\n    addSub(source: {\n        title: string;\n        author: string;\n        content: string;\n        id: string;\n    }) {\n        this.sub.push({\n            id: source.id,\n            title: source.title,\n            author: source.author,\n        });\n        this.addSubMap(new Chapter(source));\n    }\n\n    addSubMap(chapter: Chapter) {\n        this.subMap[chapter.id] = chapter;\n    }\n\n    setSelectedSubId(id: string) {\n        this.selectedSubId = id;\n    }\n\n    setNextSelectedSubId() {\n        this.selectedSubId = this.sub[this.selectedSubIdIndex + 1].id;\n    }\n\n    setPreSelectedSubId() {\n        this.selectedSubId = this.sub[this.selectedSubIdIndex - 1].id;\n    }\n\n    setLikeNum(num: number) {\n        this.likeNum = num;\n    }\n\n    setLiked(bool: boolean) {\n        this.liked = bool;\n    }\n}","import { Box, Button, createStyles, makeStyles, Theme, Typography, Link } from '@material-ui/core';\nimport React, { useContext, useState } from 'react';\nimport { Observer } from 'mobx-react';\nimport { AddChapterDialog } from './AddChapterDialog';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { StoreContext } from '../store';\n\nconst useAddChapterStyles = makeStyles((theme: Theme) =>\ncreateStyles({\n  loginTips: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      color: theme.palette.grey[400],\n  }\n})\n);\n\nexport const AddChapter = ({ onSubmit }: {\n  onSubmit: (arg: {\n      content: string[];\n      title: string;\n  }) => Promise<void>;\n}) => {\n  const [openAddDialog, setOpenAddDialog] = useState(false);\n  const store = useContext(StoreContext);\n  const classes = useAddChapterStyles();\n\n  return <Observer>\n      {() => <>\n          {store.isLogin ? <>\n              <Button onClick={() => setOpenAddDialog(true)} fullWidth variant=\"outlined\">创作剧情</Button>\n              <AddChapterDialog\n                  titleLabel=\"标题\"\n                  dialogTitle=\"添加章节\"\n                  contentPlaceHolder=\"本章内容...\"\n                  open={openAddDialog}\n                  handleClose={() => setOpenAddDialog(false)}\n                  onSubmit={onSubmit} />\n          </> :\n          <Box className={classes.loginTips}>\n              <Typography variant=\"caption\">\n                  快去<Link to=\"/login\" component={RouterLink}>登录</Link>开始自己对本章的创作吧～\n              </Typography>\n          </Box>}\n      </>}\n  </Observer>;\n}\n","import { Box, createStyles, List, ListItem, ListItemIcon, ListItemText, ListSubheader, makeStyles, Radio, Theme } from '@material-ui/core';\nimport { Observer } from 'mobx-react';\nimport React from 'react';\nimport { Chapter } from '../store/chapter';\nimport { AddChapter } from './AddChapter';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            marginTop: theme.spacing(2),\n            backgroundColor: theme.palette.grey[300],\n        },\n        addChapterBox: {\n            padding: theme.spacing(4),\n        }\n    })\n);\n\nexport const ChapterSelector = ({ data, onSelect, selectId, onSubmit, header }: {\n    data: Chapter;\n    selectId: String;\n    onSelect: Function;\n    onSubmit: (arg: {\n        content: string[];\n        title: string;\n    }) => Promise<void>;\n    header: string;\n}) => {\n    const classes = useStyles();\n\n    return <Box className={classes.container}>\n        {data.sub.length !== 0 && <Observer>\n            {() => <List\n                subheader={\n                    <ListSubheader disableSticky={true}>\n                        {header}\n                    </ListSubheader>\n                }\n            >\n                {data.sub.map(item => <ListItem button key={item.id} onClick={() => onSelect(item.id)}>\n                    <ListItemIcon>\n                        <Radio checked={item.id === selectId}/>\n                    </ListItemIcon>\n                    <ListItemText primary={item.title} />\n                </ListItem>)}\n            </List>}\n        </Observer>}\n        <Box className={classes.addChapterBox}>\n            <AddChapter onSubmit={onSubmit}/>\n        </Box>\n    </Box>;\n}\n","import { Box, ButtonBase, createStyles, makeStyles, Theme, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { Chapter } from '../store/chapter';\nimport { Observer } from 'mobx-react';\nimport { ChapterSelector } from './ChapterSelector';\nimport { config } from '../config';\nimport { useHistory } from 'react-router-dom';\n\nconst useChapterBoxStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            marginTop: theme.spacing(8),\n            width: '100%',\n            alignItems: 'flex-start',\n            flexDirection: 'column',\n        },\n        author: {\n            fontWeight: 400,\n            color: theme.palette.grey[400],\n            fontSize: theme.spacing(2),\n            textAlign: 'right',\n            width: '100%',\n            marginTop: theme.spacing(1),\n        },\n        content: {\n            marginTop: theme.spacing(6),\n            textIndent: theme.spacing(4),\n            lineHeight: theme.spacing(.22),\n        },\n        selectorContainer: {\n            paddingLeft: theme.spacing(3),\n            marginTop: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n        }\n    })\n);\n\nexport const ChapterBox = ({ data, parent, setParentId }: {\n    data: Chapter;\n    parent?: Chapter;\n    setParentId?: Function;\n}) => {\n    const classes = useChapterBoxStyles();\n    const [selectedSubChapterId, setSelectedSubChapterId] = useState('');\n    const [selectedSubChapter, setSelectedSubChapter] = useState<Chapter | null>(null);\n    const [showSelector, setShowSelector] = useState(false);\n    const history = useHistory();\n\n    const handleSelect = (id: string) => {\n        setParentId && setParentId(id);\n    }\n\n    const handleChange = (id: string) => {\n        setSelectedSubChapterId(id);\n        setShowSelector(false);\n    }\n\n    function handleCreateChapterSubmit(parent: Chapter) {\n\n        return function ({ content, title }: {\n            content: string[]; title: string;\n        }) {\n            return fetch(`${config.apiHost}/api/chapter`, {\n                method: 'post',\n                mode: 'cors',\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    title, content,\n                    parentId: parent.id,\n                }),\n            })\n            .then(data => data.json())\n            .then(res => {\n                if (res.errCode === 1000) {\n                    history.push('/login');\n                    return;\n                }\n                parent.addSub(res.chapter);\n            });\n        }\n    }\n\n    useEffect(() => {\n        if (data.sub.length === 0) return;\n        setSelectedSubChapterId(data.sub[0].id);\n    }, [data]);\n\n    useEffect(() => {\n        if (!selectedSubChapterId) return;\n        if (data.subMap[selectedSubChapterId]) {\n            setSelectedSubChapter(data.subMap[selectedSubChapterId]);\n        } else {\n            fetch(`${config.apiHost}/api/chapter/${selectedSubChapterId}`, {\n                method: 'get'\n            })\n            .then(data => data.json())\n            .then(({ chapter: chapterSource }) => {\n                let chapter = new Chapter(chapterSource);\n                setSelectedSubChapter(chapter);\n                data.addSubMap(chapter);\n            });\n        }\n    }, [selectedSubChapterId, data]);\n\n    return <>\n        <Box className={classes.content}>\n            {data.content.map((line: string) => <Box>{line}</Box>)}\n        </Box>\n        {parent && <ChapterSelector\n            header=\"觉得本章看的不过瘾？看看其他同样优秀的版本吧：\"\n            onSubmit={handleCreateChapterSubmit(parent)}\n            data={parent} onSelect={handleSelect} selectId={data.id} />}\n        {selectedSubChapter && <>\n            <ButtonBase className={classes.title} onClick={() => setShowSelector(!showSelector)}>\n                <Typography variant=\"h4\">\n                    {selectedSubChapter.title}\n                </Typography>\n                <Box className={classes.author}>author: {selectedSubChapter.author}</Box>\n            </ButtonBase>\n        </>}\n        \n        <Observer>\n            {() => <>\n                {(!selectedSubChapterId || showSelector) && <ChapterSelector\n                    header=\"本章其他分支：\"\n                    onSubmit={handleCreateChapterSubmit(data)}\n                    data={data} onSelect={handleChange} selectId={selectedSubChapterId} />}\n            </>}\n        </Observer>\n        <Observer>\n            {() => <>\n                {selectedSubChapter &&\n                    <ChapterBox\n                        key={selectedSubChapter.id}\n                        data={selectedSubChapter}\n                        parent={data}\n                        setParentId={setSelectedSubChapterId} />\n                }\n            </>}\n        </Observer>\n    </>;\n}","import { Slide, useScrollTrigger } from '@material-ui/core';\nimport React from 'react';\n\nexport const HideOnScroll: React.FC = ({ children }) => {\n    const trigger = useScrollTrigger();\n\n    return <Slide appear={false} direction=\"down\" in={!trigger}>\n        {children as any}\n    </Slide>\n}\n","import { AppBar, Box, Container, createStyles, Fade, IconButton, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport { Observer } from 'mobx-react';\nimport React, { useEffect, useState } from 'react';\nimport { ChapterBox } from './Chapter';\nimport { config } from '../config';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { HideOnScroll } from './HideOnScroll';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { Chapter } from '../store/chapter';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    title: {\n      flexGrow: 1\n    },\n    container: {\n      marginTop: theme.spacing(3),\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    }\n  })\n);\nexport const BookBox = () => {\n    const classes = useStyles();\n    const { id } = useParams() as any;\n    const [book, setBook] = useState<Chapter | null>(null);\n    const history = useHistory();\n\n    useEffect(() => {\n        fetch(`${config.apiHost}/api/chapter/${id}`, {\n            method: 'get'\n        })\n        .then(data => data.json())\n        .then(data => {\n            setBook(new Chapter(data.chapter));\n        });\n    }, [id]);\n  \n    return <Box>\n        <HideOnScroll>\n            <AppBar position=\"sticky\" color=\"default\">\n                <Toolbar variant=\"dense\">\n                    <IconButton\n                        onClick={() => history.goBack()}\n                        edge=\"start\" className={classes.menuButton} color=\"inherit\">\n                        <ArrowBackIosIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        {book ? <Fade in={!!book}><Box>{book.title}</Box></Fade>\n                            : <Skeleton animation=\"wave\" width={100} />}\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </HideOnScroll>\n        <Container className={classes.container}>\n            <Observer>\n            {() => <>\n                {book ?\n                book.initialized ?\n                    <ChapterBox data={book} /> :\n                    <Box>error</Box> :\n                <Box>waiting...</Box>}\n            </>}\n            </Observer>\n        </Container>\n    </Box>;\n}\n","import { AppBar, Box, Button, ButtonBase, Container, createStyles, Fade, IconButton, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { config } from '../config';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { HideOnScroll } from './HideOnScroll';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { Chapter } from '../store/chapter';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    title: {\n      flexGrow: 1\n    },\n    container: {\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    line: {\n        textIndent: theme.spacing(4),\n    },\n    nextChapterBox: {\n        marginTop: theme.spacing(2),\n    },\n    nextChapterBtn: {\n        display: 'block',\n        width: '100%',\n        textAlign: 'left',\n    }\n  })\n);\nexport const NewBookBox = () => {\n    const classes = useStyles();\n    const { id } = useParams() as any;\n    const [book, setBook] = useState<Chapter | null>(null);\n    const history = useHistory();\n\n    useEffect(() => {\n        fetch(`${config.apiHost}/api/chapter/${id}`, {\n            method: 'get'\n        })\n        .then(data => data.json())\n        .then(data => {\n            setBook(new Chapter(data.chapter));\n        });\n    }, [id]);\n  \n    return <Box>\n        <HideOnScroll>\n            <AppBar position=\"sticky\" color=\"default\">\n                <Toolbar variant=\"dense\">\n                    <IconButton\n                        onClick={() => history.push('/')}\n                        edge=\"start\" className={classes.menuButton} color=\"inherit\">\n                        <ArrowBackIosIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        {book ? <Fade in={!!book}><Box>{book.title}</Box></Fade>\n                            : <Skeleton animation=\"wave\" width={100} />}\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </HideOnScroll>\n        <Container className={classes.container}>\n            <Button fullWidth>\n                加载上一篇\n            </Button>\n            <Box>\n                {book?.content.map(line => <Box className={classes.line}>\n                    <Typography variant=\"body1\">{line}</Typography>\n                </Box>)}\n            </Box>\n            <Box className={classes.nextChapterBox}>\n                <Box>下一个剧情节点：</Box>\n                {book?.sub.map(sub => <ButtonBase className={classes.nextChapterBtn} onClick={() => {\n                    history.push(`/book-new/${sub.id}`);\n                }}>\n                    <Box>{sub.title}</Box>\n                </ButtonBase>)}\n            </Box>\n            <Button fullWidth>\n                加载下一篇\n            </Button>\n        </Container>\n    </Box>;\n}\n","import { AppBar, Box, Button, Theme, Grid, IconButton, makeStyles, TextField, Toolbar, createStyles, Typography, Link } from '@material-ui/core';\nimport React, { useContext, useEffect, useState } from 'react';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { config } from '../config';\nimport { StoreContext } from '../store';\n\nexport const SimpleAppBar = () => {\n    const history = useHistory();\n\n    return <AppBar position=\"sticky\" color=\"inherit\" elevation={0}>\n        <Toolbar variant=\"dense\">\n            <IconButton\n                onClick={() => history.goBack()}\n                edge=\"start\" color=\"inherit\">\n                <ArrowBackIosIcon />\n            </IconButton>\n        </Toolbar>\n    </AppBar>;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n        margin: `${theme.spacing(4)}px auto`,\n        maxWidth: theme.spacing(40),\n    },\n    submitBtnContainer: {\n        position: 'relative',\n    },\n    submitBtn: {\n        marginTop: theme.spacing(1),\n    },\n    buttonProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -10,\n        marginLeft: -12,\n    },\n    signInBox: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n  })\n);\n\nexport const Login = () => {\n    const history = useHistory();\n    const [phone, setPhone] = useState('');\n    const [isPhoneError, setIsPhoneError] = useState(false);\n    const [phoneErrorMsg, setPhoneErrorMsg] = useState('');\n    const [password, setPassword] = useState('');\n    const [isPasswordError, setIsPasswordError] = useState(false);\n    const [passwordErrorMsg, setPasswordErrorMsg] = useState('');\n\n    const [isPending, setIsPending] = useState(false);\n    const store = useContext(StoreContext);\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        setPhoneErrorMsg('');\n        setIsPhoneError(false);\n    }, [phone]);\n\n    useEffect(() => {\n        setPasswordErrorMsg('');\n        setIsPasswordError(false);\n    }, [password]);\n\n    function onSubmit() {\n        if (isPhoneError) return;\n        if (isPasswordError) return;\n\n        if (!phone) {\n            setPhoneErrorMsg('请输入手机号');\n            setIsPhoneError(true);\n            return;\n        } else if (!config.phoneRegExp.test(phone)) {\n            setPhoneErrorMsg('请输入正确手机号');\n            setIsPhoneError(true);\n            return;\n        }\n\n        setIsPending(true);\n        fetch(`${config.apiHost}/api/user/sign-in`, {\n            method: 'post',\n            mode: 'cors',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                phone, password\n            }),\n        })\n        .then(data => data.json())\n        .then(data => {\n            setIsPending(false);\n            if (!data.errCode) {\n                history.goBack();\n                store.setIsLogin(true);\n                store.setUserInfo(data.info);\n                return;\n            }\n            if (data.errCode === 1) {\n                setPhoneErrorMsg(data.errMsg);\n                setIsPhoneError(true);\n            } else if (data.errCode === 2) {\n                setPasswordErrorMsg(data.errMsg);\n                setIsPasswordError(true);\n            }\n        });\n    }\n\n    return <Box>\n        <SimpleAppBar />\n        <Grid container className={classes.container} spacing={4}>\n            <Grid item xs={12}>\n                <TextField\n                    autoFocus\n                    error={isPhoneError}\n                    helperText={phoneErrorMsg}\n                    value={phone}\n                    onChange={e => setPhone(e.target.value)}\n                    label=\"手机\"\n                    type=\"number\"\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12}>\n                <TextField\n                    error={isPasswordError}\n                    helperText={passwordErrorMsg}\n                    value={password}\n                    type=\"password\"\n                    onChange={e => setPassword(e.target.value)}\n                    label=\"密码\"\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12} className={classes.submitBtnContainer}>\n                <Button\n                    disabled={isPending}\n                    onClick={onSubmit}\n                    className={classes.submitBtn} variant=\"outlined\" color=\"primary\" fullWidth>\n                    登录\n                </Button>\n                {isPending && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Grid>\n            <Grid item xs={12} className={classes.signInBox}>\n                <Typography variant=\"caption\">\n                    还没有账号，立即前往<Link component={RouterLink} to=\"/sign-up\">注册</Link>\n                </Typography>\n            </Grid>\n        </Grid>\n    </Box>;\n}\n","import { Box, Button, CircularProgress, createStyles, Grid, makeStyles, TextField, Theme } from '@material-ui/core';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { StoreContext } from '../store';\nimport { SimpleAppBar } from './Login';\nimport { config } from '../config';\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n        margin: `${theme.spacing(4)}px auto`,\n        maxWidth: theme.spacing(40),\n    },\n    submitBtnContainer: {\n        position: 'relative',\n    },\n    submitBtn: {\n        marginTop: theme.spacing(1),\n    },\n    buttonProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -10,\n        marginLeft: -12,\n    },\n  })\n);\n\nexport const SignUp = () => {\n    const history = useHistory();\n\n    const [nick, setNick] = useState('');\n    const [isNickError, setIsNickError] = useState(false);\n    const [nickErrorMsg, setNickErrorMsg] = useState('');\n\n    const [phone, setPhone] = useState('');\n    const [isPhoneError, setIsPhoneError] = useState(false);\n    const [phoneErrorMsg, setPhoneErrorMsg] = useState('');\n\n    const [password, setPassword] = useState('');\n    const [isPasswordError, setIsPasswordError] = useState(false);\n    const [passwordErrorMsg, setPasswordErrorMsg] = useState('');\n\n    const [passwordSec, setPasswordSec] = useState('');\n    const [isPasswordSecError, setIsPasswordSecError] = useState(false);\n    const [passwordSecErrorMsg, setPasswordSecErrorMsg] = useState('');\n\n    const [isPending, setIsPending] = useState(false);\n    const store = useContext(StoreContext);\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        setNickErrorMsg('');\n        setIsNickError(false);\n    }, [nick]);\n\n    useEffect(() => {\n        setPhoneErrorMsg('');\n        setIsPhoneError(false);\n    }, [phone]);\n\n    useEffect(() => {\n        setPasswordErrorMsg('');\n        setIsPasswordError(false);\n    }, [password]);\n\n    useEffect(() => {\n        setPasswordSecErrorMsg('');\n        setIsPasswordSecError(false);\n    }, [passwordSec]);\n\n    function onSubmit() {\n        if (!phone) {\n            setPhoneErrorMsg('请输入手机号');\n            setIsPhoneError(true);\n            return;\n        } else if (!config.phoneRegExp.test(phone)) {\n            setPhoneErrorMsg('请输入正确手机号');\n            setIsPhoneError(true);\n            return;\n        }\n\n        if (!nick) {\n            setNickErrorMsg('请输入昵称');\n            setIsNickError(true);\n            return;\n        } else if (!config.nickRegExp.test(nick)) {\n            setNickErrorMsg('昵称格式不符合要求(4-20个字符)');\n            setIsNickError(true);\n            return;\n        }\n\n        if (!password) {\n            setPasswordErrorMsg('请设置密码');\n            setIsPasswordError(true);\n            return;\n        } else if (!config.passwordRegExp.test(password)) {\n            setPasswordErrorMsg('密码格式不正确(必须有数字和字母，6-20个字符)');\n            setIsPasswordError(true);\n            return;\n        } else if (!passwordSec) {\n            setPasswordSecErrorMsg('请输入二次确认密码');\n            setIsPasswordSecError(true);\n            return;\n        } else if (password !== passwordSec) {\n            setPasswordSecErrorMsg('两次输入密码不相同');\n            setIsPasswordSecError(true);\n            setIsPasswordError(true);\n            return;\n        }\n\n        setIsPending(true);\n        fetch(`${config.apiHost}/api/user/sign-up`, {\n            method: 'post',\n            mode: 'cors',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                phone, password, nick\n            }),\n        })\n        .then(data => data.json())\n        .then(data => {\n            setIsPending(false);\n            if (!data.errCode) {\n                store.setIsLogin(true);\n                store.setUserInfo(data.info);\n                history.push('/');\n                return;\n            }\n\n            if (data.errCode === 4) {\n                setPhoneErrorMsg('该手机号已被注册');\n                setIsPhoneError(true);\n            } else if (data.errCode === 5) {\n                setNickErrorMsg('该昵称已存在');\n                setIsNickError(true);\n            }\n        });\n    }\n\n    return <Box>\n        <SimpleAppBar />\n        <Grid container className={classes.container} spacing={4}>\n            <Grid item xs={12}>\n                <TextField\n                    autoFocus\n                    error={isNickError}\n                    helperText={nickErrorMsg}\n                    value={nick}\n                    onChange={e => setNick(e.target.value)}\n                    label=\"昵称\"\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12}>\n                <TextField\n                    error={isPhoneError}\n                    helperText={phoneErrorMsg}\n                    value={phone}\n                    onChange={e => setPhone(e.target.value)}\n                    label=\"手机\"\n                    type=\"number\"\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12}>\n                <TextField\n                    error={isPasswordError}\n                    helperText={passwordErrorMsg}\n                    value={password}\n                    type=\"password\"\n                    onChange={e => setPassword(e.target.value)}\n                    label=\"密码\"\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12}>\n                <TextField\n                    error={isPasswordSecError}\n                    helperText={passwordSecErrorMsg}\n                    value={passwordSec}\n                    type=\"password\"\n                    onChange={e => setPasswordSec(e.target.value)}\n                    label=\"确认密码\"\n                    fullWidth\n                />\n            </Grid>\n            <Grid item xs={12} className={classes.submitBtnContainer}>\n                <Button\n                    disabled={isPending}\n                    onClick={onSubmit}\n                    className={classes.submitBtn} variant=\"outlined\" color=\"primary\" fullWidth>\n                    注册\n                </Button>\n                {isPending && <CircularProgress size={24} className={classes.buttonProgress} />}\n            </Grid>\n        </Grid>\n    </Box>;\n}\n","import { Box, Button, createStyles, Grid, makeStyles, Theme } from '@material-ui/core';\nimport { autorun } from 'mobx';\nimport { Observer } from 'mobx-react';\nimport React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { config } from '../config';\nimport { StoreContext } from '../store';\nimport { SimpleAppBar } from './Login';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            padding: theme.spacing(4),\n        }\n    })\n);\n\nexport const Center = () => {\n    const store = useContext(StoreContext);\n    const history = useHistory();\n    const classes = useStyles();\n\n    useEffect(() => autorun(() => {\n        if (store.isIsLoginReady && !store.isLogin) {\n            history.replace('/login');\n        }\n    }), [store, history]);\n\n    function logout() {\n        fetch(`${config.apiHost}/api/user/logout`, {\n            method: 'post',\n            mode: 'cors',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        })\n        .then(data => {\n            store.setIsLogin(false);\n            store.setUserInfo({\n                phone: '',\n                nick: '',\n                id: '',\n            });\n            history.replace('/');\n        });\n    }\n\n    return <Box>\n        <SimpleAppBar />\n        <Observer>\n            {() => \n            <Grid container spacing={2} className={classes.container}>\n                <Grid item xs={12}>\n                    昵称：{store.userInfo.nick}\n                </Grid>\n                <Grid item xs={12}>\n                    电话：{store.userInfo.phone}\n                </Grid>\n                <Grid item xs={12}>\n                    <Button fullWidth variant=\"outlined\" onClick={logout}>退出登录</Button>\n                </Grid>\n            </Grid>}\n        </Observer>\n    </Box>;\n}\n","import { Box, Button, ButtonBase, createStyles, IconButton, makeStyles, Slide, Theme, Typography } from '@material-ui/core';\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { Chapter } from '../store/chapter';\nimport { ChapterSelector } from './ChapterSelector';\nimport { config } from '../config';\nimport { useHistory } from 'react-router-dom';\nimport { autorun } from 'mobx';\nimport { useObserver } from 'mobx-react';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { AddChapterDialog } from './AddChapterDialog';\nimport { StoreContext } from '../store';\n\nconst useChapterBoxStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            '&:last-of-type': {\n                minHeight: '100vh',\n            },\n        },\n        titleBox: {\n            position: 'sticky',\n            zIndex: 10,\n            top: 0,\n            backgroundColor: theme.palette.background.default,\n            paddingBottom: theme.spacing(1),\n            boxShadow: `0px -3px 3px 1px ${theme.palette.grey[200]}`,\n        },\n        title: {\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            flexDirection: 'row',\n            justifyContent: 'flex-start',\n            borderBottom: `1px solid ${theme.palette.divider}`,\n            paddingRight: theme.spacing(1),\n        },\n        titleMiddle: {\n            display: 'flex',\n            flexDirection: 'column',\n            flexGrow: 1,\n            width: 0,\n        },\n        mainTitle: {\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n        },\n        subTitle: {\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n        },\n        titleCreateBtn: {\n            height: '100%',\n        },\n        author: {\n            fontWeight: 400,\n            color: theme.palette.grey[400],\n            fontSize: theme.spacing(2),\n            textAlign: 'right',\n            width: '100%',\n            marginTop: theme.spacing(1),\n        },\n        content: {\n            marginTop: theme.spacing(6),\n            marginBottom: theme.spacing(8),\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            textIndent: theme.spacing(4),\n            lineHeight: theme.spacing(.22),\n        },\n        selectorContainer: {\n            paddingLeft: theme.spacing(3),\n            marginTop: theme.spacing(2),\n            marginBottom: theme.spacing(2),\n        },\n        bottomBar: {\n            borderTop: `1px solid ${theme.palette.divider}`,\n            display: 'flex',\n            justifyContent: 'space-between',\n            paddingLeft: theme.spacing(1),\n            paddingRight: theme.spacing(1),\n            position: 'sticky',\n            bottom: 0,\n            backgroundColor: theme.palette.background.default,\n        },\n        likeBtn: {\n            width: theme.spacing(4.5),\n            height: theme.spacing(4.5),\n            display: 'flex',\n            flexDirection: 'column',\n            color: theme.palette.grey[600],\n        },\n        likeBtnBox: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        liked: {\n            color: theme.palette.secondary.main,\n        },\n        unliked: {\n        },\n        iconBtnNum: {\n            lineHeight: 1,\n            position: 'relative',\n            top: '-2px',\n        }\n    })\n);\n\nexport const ChapterBoxVer2 = ({ data, parent }: {\n    data?: Chapter;\n    parent?: Chapter;\n}) => {\n    const classes = useChapterBoxStyles({ liked: data?.liked });\n    const [selectedSubChapter, setSelectedSubChapter] = useState<Chapter | undefined>(undefined);\n    const history = useHistory();\n    const [showSelector, setShowSelector] = useState(false);\n    const store = useContext(StoreContext);\n    const [openAddChapterDialog, setOpenAddChapterDialog] = useState(false);\n    const containerEl = useRef<HTMLDivElement | null>(null);\n\n    useEffect(() => autorun(() => {\n        if (!data?.selectedSubId) return;\n        if (data?.subMap[data?.selectedSubId]) {\n            setSelectedSubChapter(data?.subMap[data?.selectedSubId]);\n        } else {\n            fetch(`${config.apiHost}/api/chapter/${data?.selectedSubId}`, {\n                method: 'get',\n                mode: 'cors',\n                credentials: 'include',\n            })\n            .then(data => data.json())\n            .then(({ chapter: chapterSource }) => {\n                let chapter = new Chapter(chapterSource);\n                setSelectedSubChapter(chapter);\n                data?.addSubMap(chapter);\n            });\n        }\n    }), [data]);\n\n    function handleCreateChapterSubmit({ content, title }: {\n        content: string[]; title: string;\n    }) {\n        return fetch(`${config.apiHost}/api/chapter`, {\n            method: 'post',\n            mode: 'cors',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                title, content,\n                parentId: parent?.id,\n            }),\n        })\n        .then(data => data.json())\n        .then(res => {\n            if (res.errCode === 1000) {\n                history.push('/login');\n                return;\n            }\n            parent?.addSub(res.chapter);\n        });\n    }\n\n    const createChapter = useCallback(() => {\n        if (store.isIsLoginReady && store.isLogin) {\n            setOpenAddChapterDialog(true);\n        } else {\n            history.push('/login');\n        }\n    }, [store, history]);\n\n    const handleLike = () => {\n        if (!(store.isIsLoginReady && store.isLogin)) {\n            history.push('/login');\n            return;\n        }\n        fetch(`${config.apiHost}/api/chapter/${data?.liked ? 'unlike' : 'like'}?id=${data?.id}`, {\n            method: 'post',\n            mode: 'cors',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        }).then(_data => {\n            data?.setLikeNum(data.liked ? data.likeNum - 1 : data.likeNum + 1);\n            data?.setLiked(!data.liked);\n        });\n    }\n\n    const handleGo = (type: 'next' | 'pre') => {\n        switch (type) {\n            case 'next':\n                parent?.setNextSelectedSubId();\n                break;\n            case 'pre':\n            default:\n                parent?.setPreSelectedSubId();\n                break;\n        }\n        if (window.scrollY - (containerEl.current?.offsetTop || 0) > 0) {\n            window.scrollTo({ top: containerEl.current?.offsetTop });\n        }\n    }\n\n    return useObserver(() => <>\n        <div className={classes.container} ref={containerEl}>\n            <Box className={classes.titleBox}>\n                {data && <Box className={classes.title}>\n                    <IconButton onClick={history.goBack}>\n                        <ArrowBackIosIcon />\n                    </IconButton>\n                    <Box className={classes.titleMiddle} onClick={() => setShowSelector(!showSelector)}>\n                        <Typography className={classes.mainTitle} variant=\"subtitle1\">\n                            {data.title}\n                        </Typography>\n                        <Typography className={classes.subTitle} variant=\"caption\">\n                            {data.content[0]}\n                        </Typography>\n                    </Box>\n                    <Button className={classes.titleCreateBtn} color=\"primary\" onClick={createChapter}>写剧情</Button>\n                    {store.isIsLoginReady && store.isLogin && <AddChapterDialog\n                        open={openAddChapterDialog}\n                        handleClose={() => setOpenAddChapterDialog(false)}\n                        onSubmit={handleCreateChapterSubmit}\n                        titleLabel=\"标题\"\n                        dialogTitle=\"添加剧情\"\n                        contentPlaceHolder=\"本章内容...\"\n                        />}\n                </Box>}\n                {parent && showSelector && <ChapterSelector\n                    header=\"剧情分支选择：\"\n                    onSubmit={handleCreateChapterSubmit}\n                    data={parent} onSelect={(id: string) => {\n                        setShowSelector(false);\n                        parent && parent.setSelectedSubId(id);\n                    }} selectId={parent.selectedSubId} />}\n            </Box>\n            {parent && !data && <ChapterSelector\n                header=\"剧情分支选择：\"\n                onSubmit={handleCreateChapterSubmit}\n                data={parent} onSelect={(id: string) => {\n                    parent && parent.setSelectedSubId(id);\n                }} selectId={parent.selectedSubId} />}\n            {data && <Box className={classes.content}>\n                {data?.content.map((line: string, i) => <Box key={i}>{line}</Box>)}\n            </Box>}\n            {data && <Box className={classes.bottomBar}>\n                <Box>\n                    <IconButton className={classes.likeBtn} size=\"small\" onClick={handleLike}>\n                        <Box className={classes.likeBtnBox}>\n                            <ThumbUpAltIcon className={data.liked ? classes.liked : classes.unliked} fontSize=\"small\" />\n                            <Typography className={classes.iconBtnNum} variant=\"caption\">{data.likeNum}</Typography>\n                        </Box>\n                    </IconButton>\n                </Box>\n                <Box>\n                    <Button onClick={() => handleGo('pre')} disabled={!parent?.hasPreSubId}>上一个剧情</Button>\n                    <Button onClick={() => handleGo('next')} disabled={!parent?.hasNextSubId}>下一个剧情</Button>\n                </Box>\n            </Box>}\n        </div>\n        {(data || selectedSubChapter) && <ChapterBoxVer2 key={'' + selectedSubChapter?.id + data?.id} data={selectedSubChapter} parent={data} />}\n    </>);\n}\n","import { AppBar, Box, Container, createStyles, Fade, IconButton, makeStyles, Theme, Toolbar, Typography } from '@material-ui/core';\nimport { Observer } from 'mobx-react';\nimport React, { useEffect, useState } from 'react';\nimport { config } from '../config';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { HideOnScroll } from './HideOnScroll';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { Chapter } from '../store/chapter';\nimport { ChapterBoxVer2 } from './ChapterVer2';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    title: {\n      flexGrow: 1\n    },\n    container: {\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    }\n  })\n);\nexport const BookBoxVer2 = () => {\n    const classes = useStyles();\n    const { id } = useParams() as any;\n    const [book, setBook] = useState<Chapter | null>(null);\n\n    useEffect(() => {\n        fetch(`${config.apiHost}/api/chapter/${id}`, {\n            method: 'get',\n            mode: 'cors',\n            credentials: 'include',\n        })\n        .then(data => data.json())\n        .then(data => {\n            setBook(new Chapter(data.chapter));\n        });\n    }, [id]);\n  \n    return <Box className={classes.container}>\n        <Observer>\n            {() => <>\n                {book ?\n                book.initialized ?\n                    <ChapterBoxVer2 data={book} /> :\n                    <Box>error</Box> :\n                <Box>waiting...</Box>}\n            </>}\n        </Observer>\n    </Box>;\n}\n","import React, { useContext, useEffect } from 'react';\nimport {\n  BrowserRouter as Router, Route\n} from \"react-router-dom\";\nimport { Home } from './components/Home';\nimport { BookBox } from './components/Book';\nimport { NewBookBox } from './components/NewBook';\nimport { Login } from './components/Login';\nimport { StoreContext } from './store';\nimport { config } from './config';\nimport { SignUp } from './components/SignUP';\nimport { Center } from './components/Center';\nimport { BookBoxVer2 } from './components/BookVer2';\n\nconst App = () => {\n  const store = useContext(StoreContext);\n\n  useEffect(() => {\n    fetch(`${config.apiHost}/api/user/info`, {\n      method: 'get',\n      credentials: 'include',\n    })\n    .then(data => data.json())\n    .then(data => {\n      if (data.errCode === 1000) {\n        store.setIsLogin(false);\n      } else {\n        store.setIsLogin(true);\n        store.setUserInfo(data.info);\n      }\n    });\n  }, [store]);\n\n  return <Router>\n    <Route path=\"/\" exact={true}>\n      <Home />\n    </Route>\n    <Route path=\"/book/:id\">\n      <BookBox />\n    </Route>\n    <Route path=\"/book-ver2/:id\">\n      <BookBoxVer2 />\n    </Route>\n    <Route path=\"/book-new/:id\">\n      <NewBookBox />\n    </Route>\n    <Route path=\"/login\">\n      <Login />\n    </Route>\n    <Route path=\"/sign-up\">\n      <SignUp />\n    </Route>\n    <Route path=\"/center\">\n      <Center />\n    </Route>\n  </Router>;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { autorun } from 'mobx';\nimport { StoreProvider } from './store';\nimport { CssBaseline } from '@material-ui/core';\nimport { Store } from './store/store';\n\nconst data = new Store();\n\n// autorun(() => {\n//   localStorage.setItem('interactive-book-store', JSON.stringify(data));\n// });\n\nReactDOM.render(\n  <StoreProvider value={data}>\n    <CssBaseline />\n    <App />\n  </StoreProvider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { action, makeObservable, observable } from 'mobx';\n\nexport class Store {\n    public isLogin = false;\n    public isIsLoginReady = false;\n    public userInfo = {\n        phone: '',\n        nick: '',\n        id: '',\n    }\n\n    constructor() {\n        makeObservable(this, {\n            isLogin: observable,\n            isIsLoginReady: observable,\n            userInfo: observable,\n            setIsLogin: action,\n            setUserInfo: action,\n        });\n    }\n\n    setIsLogin(bool: boolean) {\n        this.isLogin = bool;\n        this.isIsLoginReady = true;\n    }\n\n    setUserInfo(info: {\n        phone: string;\n        nick: string;\n        id: string;\n    }) {\n        this.userInfo = info;\n    }\n};\n"],"sourceRoot":""}